<UserControl x:Class="TBT.App.Views.Controls.CalendarControl" x:Name="this" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:TBT.App.Views.Controls" Loaded="this_Loaded" mc:Ignorable="d" d:DesignHeight="500" xmlns:spy="clr-namespace:FirstFloor.XamlSpy;assembly=XamlSpy" spy:XamlMetadata.XamlSpyServiceSettings="127.0.0.1|4530|18048" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|1">










    <Grid HorizontalAlignment="Center" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|20">

            <StackPanel spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|22">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|23">

                    <Button Template="{StaticResource HyperlinkButtonTemplate}" Content="Current week" Command="{Binding ElementName=this, Path=GoToCurrentWeekCommand}" VerticalContentAlignment="Center" Margin="15 4 15 4" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|25" />





                    <Button Template="{StaticResource HyperlinkButtonTemplate}" Content="Back to today" Command="{Binding ElementName=this, Path=BackTodayCommand}" VerticalContentAlignment="Center" Margin="15 4 15 4" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|31" />





                    <Button Template="{StaticResource HyperlinkButtonTemplate}" Content="Selected week" Command="{Binding ElementName=this, Path=GoToSelectedDayCommand}" VerticalContentAlignment="Center" Margin="15 4 15 4" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|37" />

                </StackPanel>





                <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|45">

                    <Button Click="ButtonUp_Click" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|47">
                        <Button.Template>
                            <ControlTemplate>
                                <Grid spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|50">
                                    <Path Fill="{StaticResource ChangeWeekButtonForeground}" Data="M 0 8 L 16 8 L 8 0 Z" VerticalAlignment="Center" Margin="5" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|51">
                                        <Path.LayoutTransform>
                                            <RotateTransform Angle="-90" />
                                        </Path.LayoutTransform>
                                    </Path>

                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Cursor" Value="Hand" />
                                                    <Setter Property="Background" Value="{StaticResource ChangeWeekButtonMouseOverBackground}" />
                                                </Trigger>
                                                <Trigger Property="IsMouseOver" Value="False">
                                                    <Setter Property="Background" Value="{StaticResource ChangeWeekButtonBackground}" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                </Grid>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>


                    <ListBox x:Name="WeekListBox" ItemsSource="{Binding ElementName=this, Path=Week, Mode=TwoWay}" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" SelectedItem="{Binding ElementName=this, Path=SelectedDay, Mode=OneWay}" BorderBrush="Transparent" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|76">

                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>




                                <WrapPanel IsItemsHost="True" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|84" />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>

                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Converter={StaticResource IsDateTimeTodayConverter}}" Value="True">
                                        <Setter Property="Background" Value="{StaticResource CalendarItemIsTodayBrush}" />
                                    </DataTrigger>

                                    <Trigger Property="IsSelected" Value="true">
                                        <Setter Property="Background" Value="{StaticResource CalendarItemIsSelectedBrush}" />
                                    </Trigger>

                                    <Trigger Property="IsMouseOver" Value="true">
                                        <Setter Property="Background" Value="{StaticResource CalendarItemMouseOverBrush}" />
                                        <Setter Property="Cursor" Value="Hand" />
                                    </Trigger>
                                </Style.Triggers>
                                <Setter Property="Foreground" Value="{StaticResource CalendarItemForeground}" />
                                <Setter Property="Background" Value="{StaticResource CalendarItemBackground}" />
                                <Setter Property="Margin" Value="1" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListBoxItem">
                                            <StackPanel Background="{TemplateBinding Background}" Orientation="Horizontal" MouseDown="StackPanel_MouseDown" MouseWheel="WeekListBox_MouseWheel" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|110">



                                                <ContentPresenter spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|114" />
                                            </StackPanel>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListBox.ItemContainerStyle>

                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <local:DateTimeControl DateTime="{Binding}" IsDateNameShort="{Binding Path=IsDateNameShort, RelativeSource={RelativeSource AncestorType=local:CalendarControl}, Mode=TwoWay}" />
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>


                    <Button Click="ButtonDown_Click" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|130">
                        <Button.Template>

                            <ControlTemplate>
                                <Grid spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|134">
                                    <Path Fill="{StaticResource ChangeWeekButtonForeground}" Data="M 0 8 L 16 8 L 8 0 Z" VerticalAlignment="Center" Margin="5" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|135">
                                        <Path.LayoutTransform>
                                            <RotateTransform Angle="90" />
                                        </Path.LayoutTransform>
                                    </Path>

                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Cursor" Value="Hand" />
                                                    <Setter Property="Background" Value="{StaticResource ChangeWeekButtonMouseOverBackground}" />
                                                </Trigger>
                                                <Trigger Property="IsMouseOver" Value="False">
                                                    <Setter Property="Background" Value="{StaticResource ChangeWeekButtonBackground}" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                </Grid>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </StackPanel>

        </Grid>


        <Grid Grid.Row="1" HorizontalAlignment="Stretch" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|164">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <local:EditTimeEntryControl Grid.Row="0" Margin="20" User="{Binding ElementName=this, Path=User, Mode=TwoWay}" RefreshTimeEntries="TimeEntryControl_RefreshTimeEntries" SelectedDay="{Binding ElementName=this, Path=SelectedDay, Mode=TwoWay}" />





            <StackPanel Grid.Row="1" Margin="40 20 20 20" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|177">
                <TextBlock Text="{Binding ElementName=this,                                            Path=User.TimeEntries,                                            Converter={StaticResource DurationConverter},                                            Mode=OneWay, UpdateSourceTrigger=PropertyChanged, StringFormat={}Time entered for a day: {0}}" FontSize="16" Margin="5" FontWeight="Bold" VerticalAlignment="Center" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|178" />







                <TextBlock Text="{Binding ElementName=this, Path=WeekTime, StringFormat={}Time entered for a week: {0}}" FontSize="16" Margin="5" FontWeight="Bold" VerticalAlignment="Center" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|186" />
            </StackPanel>




            <ScrollViewer Grid.Row="2" Margin="20" MinHeight="100" VerticalScrollBarVisibility="Auto" VerticalAlignment="Top" HorizontalAlignment="Stretch" Visibility="{Binding ElementName=this, Path=IsLoading, Converter={StaticResource BoolToNotVisibilityConverter}}" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|192">







                <ItemsControl ItemsSource="{Binding ElementName=this, Path=User.TimeEntries, Mode=TwoWay}" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|200">

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Margin="1" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|204">
                                <local:TimeEntryControl TimeEntry="{Binding}" RefreshTimeEntries="TimeEntryControl_RefreshTimeEntries" />
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>

            <StackPanel Grid.Row="1" Margin="20" VerticalAlignment="Top" HorizontalAlignment="Stretch" Visibility="{Binding ElementName=this, Path=IsLoading, Converter={StaticResource BoolToVisibilityConverter}}" spy:XamlMetadata.SourceInfo="E:\Projects\TimeBookingToolWpfClient\TimeBookingToolWpfClient\TBT.App\Views\Controls\CalendarControl.xaml|212">

                <local:SpinnersCogs Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center" />
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>